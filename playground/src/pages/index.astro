---

---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>Astro</title>
	</head>
	<body>
		<input type="number" min="0" max="100" value="50" 
		oninput="document.querySelector('progress').setAttribute('data-value', this.value)">
		<section id='progress-section' 
		aria-busy='true' aria-live='polite'>
			<label>
				<span>Progress:</span>
				<progress tabindex='0' max='100' data-value=50>
				</progress>
			<label>
		<section>
		<!-- <div data-value=0></div> -->
	</body>
	<style>
		body {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
			scrollbar-gutter: stable both-edges;
			width: 100%;
			max-height: 100vh;
		}

		section {
			position: relative;
			min-height: 20rem;7
			
			border: 1px solid blue;

			label {
				inset: 0;
				position: absolute;
				background-color: lightgreen;
				border: 1px solid black;
	
				& span {
					opacity: 0;
				}
				
				& progress {
					--fill: calc(
						100% - 
						(attr(data-value type(<integer>), 0) * 1%)
					);
					/* inset: 0; */
					border: none;
					height: 1.5rem;
					overflow: hidden;
					appearance: none;
					/* position: absolute; */
					border-radius: 1rem;
					border: 1px solid red;
					color-scheme: light dark;
					accent-color: steelblue;
					background-color: steelblue;
	
					&:focus-visible {
						outline: 2px solid blue;
						outline-offset: 0.25rem;
					}
	
					&::after {
						content: '';
						inset: inherit;
						position: inherit;
						transform-origin: right;
						background-color: lightgray;
						transform: scaleX(var(--fill));
						transition: transform 1s ease-in-out;
					}
	
					&::-webkit-progress-bar, 
					&::-webkit-progress-value {
						background-color: transparent;
					}
		
					&::-moz-progress-bar {
						background-color: transparent;
					}
				}
			}
		}

		div {
			--_value: attr(data-value type(<integer>));
			background: linear-gradient(
				to right,
				rgb(var(--_value), var(--_value), var(--_value)),
				rgb(255, 255, 255)
			);

			&::after {
				color: white;
				content: attr(data-value);
			}
		}
	</style>
</html>
